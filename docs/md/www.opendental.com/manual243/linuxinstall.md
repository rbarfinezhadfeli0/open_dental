|  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| |  |  |  |  |  |  |  |  |  |  |  |  | | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | | [![](../open-dental/LogoInner.jpg)](../index.html) | |  | | --- | | [![](../open-dental/home.gif)Home](../index.html) [![](../open-dental/UserManual.gif)User Manual](../manual/manual.html) [![](../open-dental/DiscForum.gif)Discussion Forum](http://opendentalsoft.com/forum/) [![](../open-dental/SearchIcon.gif)Search](../site/searchSite.html) | | |  |  |  |  |  |  |  |  | | --- | --- | --- | --- | --- | --- | --- | --- | |  | * [TRIAL    VERSION](../trial.html) | ![](../open-dental/Line.gif) | * [PROGRAMMERS    & DISTRIBUTORS](../programmers-resellers.html) | ![](../open-dental/Line.gif) | * [ORDER    HERE](https://www.opendental.com/order.html) | ![](../open-dental/Line.gif) | * [CONTACT    INFORMATION](../contact.html) | | | |
| Linux Server See [Linux and Mac](clinuxmac.html).  Linux servers are the responsibility of the practice or IT to install. Open Dental Support cannot assist with Linux server installations or Linux server troubleshooting. MariaDB    1. Install [MariaDB](mariadb.html) from [RPM](https://mariadb.com/kb/en/mariadb-package-repository-setup-and-usage/) or install package that best matches system from <https://mariadb.org/download/>.   Set Up File Share (OpenDentImages) This is just like setting up any other fileshare on a Linux machine. This can be set up as desired, but all users need full permissions (read, write and delete).  A good option is to set up Samba, then set up the share. Here are some web sites with directions:   * <http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/>   Steps we followed:   1. Install Webmin ([www.webmin.com](http://www.webmin.com)). Logon as root or other user with adequate permissions. Click the Servers tab, choose Samba windows filesharing. 2. Create fileshare, then edit securities to set <writeable> and <guest access> to yes. 3. Open an SSH terminal to the Linux machine. Log on as root or other user with adequate permissions. 4. Navigate to immediate parent directory of shared directory. 5. Type chmod -R 777 foldername. 6. This process is done. ls - l will show the permissions for all of the child folders including the share.   Once the share is set up, copy the contents of OpenDentImages to this new share, then set Data Paths to this location. Convert an Existing Linux Open Dental MySQL/MariaDB database to use MyISAM tables instead of InnoDB Tables In [Database Maintenance](databasemaintenance.html) run the InnoDB tool.  Another option is below. Only consider this option if the office in question has been using the Linux server already.   1. If needed, check to see if any of the current database tables are not in MyISAM format. Run the following query and replace the database name of opendental with the actual database name: SELECT TABLE\_NAME,ENGINE  FROM INFORMATION\_SCHEMA.TABLES  WHERE TABLE\_SCHEMA = 'opendental'  AND ENGINE NOT LIKE 'MyISAM';   If the query does not return any results, steps 2 - 6 do not need to be completed.  2. Stop the MySQL/MariaDB service.  3. Backup the database.  4. Restart the MySQL/MariaDB service.  5. Generate the alter table script using the following script (make name adjustments as needed). Make sure that the output folder exists and that the mysql user has full permissions on that folder. Also make sure that the output script file (see below) DOES NOT exist before running the command or else the command will fail. For example, if running the command a second time, the script previously generated must be deleted. SET @dbname='opendental';  SET @outengine='MYISAM';  SELECT CONCAT('ALTER TABLE ',TABLE\_NAME,' ENGINE = ',@outengine,';')  FROM INFORMATION\_SCHEMA.TABLES  WHERE TABLE\_SCHEMA = @dbname  INTO OUTFILE '/tmp/mysql/myisam\_convert\_script.txt'; 6. Run the output script myisam\_convert\_script.txt in MySQL/MariaDB as follows. From a terminal window type (make changes for actual temporary script file path as needed): mysql -u root -p opendental < /tmp/mysql/myisam\_convert\_script.txt 7. Edit the server.cnf file and make sure that the skip-innodb and default-storage-engine=MyISAM options are in the file on their own lines and that the lines are uncommented. Save any changes to the server.cnf file and if the file was modified then restart the MySQL/MariaDB service. This step prevents new tables from being generated as innodb tables in the future.  Troubleshooting **During an update, receive this error: The database tables are in MyISAM format, but the default database engine format is InnoDB. You must change the default storage engine within the my.ini (or my.cnf) file on the database server must be changed and restart MySQL in order to fix this problem. Exiting.**  To server.cnf, add default-storage-engine=MyISAM (Step 3 above under MariaDB)  Case Sensitivity: Linux MySQL/MariaDB is case sensitive by default. Open Dental tries to use only lowercase table names, however may have some mixed case variables. If ther are issues with case sensitivity, users may want to turn case sensitivity off. Simply add this line to the server.cnf file on the Linux server: lower\_case\_table\_names=1.  Example of errors due to case sensitivity:   * MySql.Data.MySqlClient.MySqlException (0x80004005): Table 'opendental\_bsm\_lou\_sh.ehrTrigger' doesn't exist. (Notice the table name ehrTrigger is mixed case). * Unhandled exception trying to access the EHR Dashboard. |
| Open Dental Software 1-503-363-5432 |