<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<title>Open Dental Software - Database Maintenance</title>
<link href="resources/manual2.css" rel="stylesheet" type="text/css">
<script src = "resources/manualToc.js"></script>
<script src = "resources/manual.js"></script>
<link rel="icon" type="image/png" href="resources/favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body onload="BodyLoaded('databasemaintenance','+tools','mainmenu','manual')">
<nav class="LeftTree">
<div class="TopBarLeft"><p>Table of Contents</p></div>
<div id="Manual"><a href="manual.html">Manual</a></div>
</nav>
<div class="RightMain">
<div class="TopBar">
    <a href="../index.html">
        <div class="Logo">
            <img src="resources/logoWhite160.png" alt="Home" width="158" height="40">
        </div>
    </a>
    <div class="TopBarLinks">
        <div class="TopBarTitle">Manual 
					<select id="SelectVersion" class="TopBarVersionDrop" onchange="location = this.options[this.selectedIndex].value;
						for (var i = 0; i < document.getElementById('SelectVersion').options.length; i++) {
							if (document.getElementById('SelectVersion').options[i].attributes.selected)
								document.getElementById('SelectVersion').selectedIndex=i;
						}"><option value="https://www.opendental.com/manual243/databasemaintenance.html" >v24.3 beta</option><option value="https://www.opendental.com/manual/databasemaintenance.html" >v24.2</option><option value="https://www.opendental.com/manual241/databasemaintenance.html" >v24.1</option><option value="https://www.opendental.com/manual233/databasemaintenance.html" >v23.3</option><option value="https://www.opendental.com/manual232/databasemaintenance.html"  selected>v23.2</option><option value="https://www.opendental.com/manual231/databasemaintenance.html" >v23.1</option><option value="https://www.opendental.com/manual224/databasemaintenance.html" >v22.4</option><option value="https://www.opendental.com/manual223/databasemaintenance.html" >v22.3</option><option value="https://www.opendental.com/manual222/databasemaintenance.html" >v22.2</option><option value="https://www.opendental.com/manual221/databasemaintenance.html" >v22.1</option><option value="https://www.opendental.com/manual214/databasemaintenance.html" >v21.4</option><option value="https://www.opendental.com/manual213/databasemaintenance.html" >v21.3</option><option value="https://www.opendental.com/manual212/databasemaintenance.html" >v21.2</option><option value="https://www.opendental.com/manual211/databasemaintenance.html" >v21.1</option><option value="https://www.opendental.com/manual205/databasemaintenance.html" >v20.5</option><option value="https://www.opendental.com/manual204/databasemaintenance.html" >v20.4</option><option value="https://www.opendental.com/manual203/databasemaintenance.html" >v20.3</option><option value="https://www.opendental.com/manual202/databasemaintenance.html" >v20.2</option><option value="https://www.opendental.com/manual201/databasemaintenance.html" >v20.1</option><option value="https://www.opendental.com/manual194/databasemaintenance.html" >v19.4</option><option value="https://www.opendental.com/manual193/databasemaintenance.html" >v19.3</option><option value="https://www.opendental.com/manual192/databasemaintenance.html" >v19.2</option><option value="https://www.opendental.com/manual191/databasemaintenance.html" >v19.1</option><option value="https://www.opendental.com/manual184/databasemaintenance.html" >v18.4</option><option value="https://www.opendental.com/manual183/databasemaintenance.html" >v18.3</option><option value="https://www.opendental.com/manual182/databasemaintenance.html" >v18.2</option><option value="https://www.opendental.com/manual181/databasemaintenance.html" >v18.1</option><option value="https://www.opendental.com/manual174/databasemaintenance.html" >v17.4</option></select>
				</div>        <a href="manual.html"><div class="TopBarHome"><img src="resources/home.gif"/><p>Manual<p></div></a>        <a href="searchmanual.html"><div class="TopBarSearch"><img src="resources/search.gif"/><p>Search<p></div></a>
    </div>       
</div>
<div class="TopBar2"><p>Database Maintenance</p></div>
<div class="GeneralPageContent">
<p>The Database Maintenance tool checks the database for improper settings, inconsistencies, or corruption.</p>
<p>In the <a href="mainmenu.html">Main Menu</a>, click Tools, Database Maintenance.</p>
<img src="images/databasemaintenance.png" width="844" height="539"/><p class="MarginBottomZero">The Database Maintenance tool is split into four tabs:  </p>
<ul class="MarginBottomGap">
<li>Checks (see below)</li>
<li>Hidden (see blow)</li>
<li>Old (see below)</li>
<li>Tools (see <a href="databasemaintenancetools.html">Database Maintenance Tools Tab</a>)</li>
</ul>
<p class="MarginBottomZero">Warnings:  </p>
<ul class="MarginBottomGap">
<li>Do not run database maintenance on multiple computers simultaneously.</li>
<li>We do not recommend running database maintenance during office hours because it can cause severe network slowness.</li>
<li>If using replication, see Database Maintenance on <a href="replication.html">Replication</a> for instructions.</li>
</ul>
<h2>Checks Tab</h2>
<p>Database maintenance is comprised of a list of methods. Each method is designed to resolve a specific problem. </p>
<img src="images/databaseMaintenanceChecksTab.png" width="816" height="458"/><p class="MarginBottomZero"></p>
<ul class="MarginBottomGap">
<li>Highlight the methods to perform or click <b>None</b> to deselect all methods. When no methods are selected, all database methods run.</li>
<li>Right-click on a method and select <i>Hide</i> to remove the method from the list. Hidden methods show on the Hidden tab.</li>
</ul>
<p class="MarginBottomZero">Options </p>
<ul class="MarginBottomGap">
<li><b>Show me everything in the log</b>: If checked, when a method or fix is run, the results include a detailed log. If unchecked, a truncated version of results show.</li>
<li><b>Print</b>: Click to send all results currently displaying to the printer.</li>
<li><b>Check</b>: Click to run database checks and display results.</li>
<li><b>Fix</b>: Click to run database checks and fix any errors that do not require a manual fix.  <ul>
<li>Some changes made by the Database Maintenance tool are logged in the <i>dbmlog</i> table.</li>
<li>If an X shows in the Breakdown column, double-click to see a breakdown of results</li>
</ul>
</li>
<li><b>Stop DBM</b>: Click to stop the next method check/fix. The current method check/fix will finish.</li>
<li><b>Explain</b>: Select a method marked with an X in the Explain column. A long description of the selected method displays. </li>
</ul>
<p>Every time any check or fix is run, MySQL checks every single table for corruption, so there may be a delay. As checks are complete, the Results log updates. </p>
<p>Database maintenance repair log files are saved to the <a href="atozfolder.html">A to Z folder</a> in the <b>DBMLogs</b> subfolder.</p>
<p><div class="Note">Note: Galera enterprise users can manually disable the MySQL integrity check by setting the <i>DatabaseMaintenanceSkipCheckTable</i> preference to true. The Optimize button under the Tools tab can be disabled by setting the <i>DatabaseMaintenanceDisableOptimize</i> preference to true.</div>
</p>
<p>Some errors detected during a check must be fixed manually. If the results log indicates a manual fix is needed, double-click on the row to open more details.</p>
<img src="images/databasemaintenanceModal.png" width="804" height="302"/><p>This window is non-modal. It can remain open while the issues are fixed. </p>
<h2>Hidden Tab</h2>
<p>Each database maintenance method can be hidden so it no longer shows in the list of Database Methods. This can be useful for methods an office doesn't use. </p>
<img src="images/databaseMaintenanceHidden.png" width="815" height="143"/><p>To unhide a method, right-click on the method and select <i>Unhide</i>.</p>
<h2>Old Tab</h2>
<p>Database maintenance methods that are no longer needed or outdated are moved to the Old tab. Methods can still be run from this window, but only do so if instructed by Open Dental Support as they can be unnecessary and time consuming.</p>
<img src="images/databaseMaintenanceOld.png" width="816" height="315"/><p>Running old methods is done the same way as in the Checks tab above.</p>
<h2>Troubleshooting</h2>
<p><b>Why do I get the message: Log not saved to Repairlog.txt because the user does not have permission to access that file. </b></p>
<p>IT needs to grant the user permission to the DBMLogs folder (typically <b>C:\OpenDentImages\DBMLogs</b>).</p>
<p><b>Why do I get the message: WARNING! More than 50 workstations are connected to this database. Running DBM may cause severe network slowness. We recommend running this tool when fewer users are connected (possibly after working hours). Continue?</b></p>
<p>More than 50 workstations are connected to the database. We recommend waiting until after office hours to run database maintenance as it can cause slowness.</p>
<p><b>I was told to run database maintenance twice, why?</b></p>
<p>Some methods, when run, create additional results for other methods. Running database maintenance twice may be necessary to catch all results.</p>
</div>
</div>
</body>
</html>