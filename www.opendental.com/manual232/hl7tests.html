<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<title>Open Dental Software - HL7 Unit Tests</title>
<link href="resources/manual2.css" rel="stylesheet" type="text/css">
<script src = "resources/manualToc.js"></script>
<script src = "resources/manual.js"></script>
<link rel="icon" type="image/png" href="resources/favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body onload="BodyLoaded('hl7tests','unittesting.html','advancedtopics','technical','manual')">
<nav class="LeftTree">
<div class="TopBarLeft"><p>Table of Contents</p></div>
<div id="Manual"><a href="manual.html">Manual</a></div>
</nav>
<div class="RightMain">
<div class="TopBar">
    <a href="../index.html">
        <div class="Logo">
            <img src="resources/logoWhite160.png" alt="Home" width="158" height="40">
        </div>
    </a>
    <div class="TopBarLinks">
        <div class="TopBarTitle">Manual 
					<select id="SelectVersion" class="TopBarVersionDrop" onchange="location = this.options[this.selectedIndex].value;
						for (var i = 0; i < document.getElementById('SelectVersion').options.length; i++) {
							if (document.getElementById('SelectVersion').options[i].attributes.selected)
								document.getElementById('SelectVersion').selectedIndex=i;
						}"><option value="https://www.opendental.com/manual243/hl7tests.html" >v24.3 beta</option><option value="https://www.opendental.com/manual/hl7tests.html" >v24.2</option><option value="https://www.opendental.com/manual241/hl7tests.html" >v24.1</option><option value="https://www.opendental.com/manual233/hl7tests.html" >v23.3</option><option value="https://www.opendental.com/manual232/hl7tests.html"  selected>v23.2</option><option value="https://www.opendental.com/manual231/hl7tests.html" >v23.1</option><option value="https://www.opendental.com/manual224/hl7tests.html" >v22.4</option><option value="https://www.opendental.com/manual223/hl7tests.html" >v22.3</option><option value="https://www.opendental.com/manual222/hl7tests.html" >v22.2</option><option value="https://www.opendental.com/manual221/hl7tests.html" >v22.1</option><option value="https://www.opendental.com/manual214/hl7tests.html" >v21.4</option><option value="https://www.opendental.com/manual213/hl7tests.html" >v21.3</option><option value="https://www.opendental.com/manual212/hl7tests.html" >v21.2</option><option value="https://www.opendental.com/manual211/hl7tests.html" >v21.1</option><option value="https://www.opendental.com/manual205/hl7tests.html" >v20.5</option><option value="https://www.opendental.com/manual204/hl7tests.html" >v20.4</option><option value="https://www.opendental.com/manual203/hl7tests.html" >v20.3</option><option value="https://www.opendental.com/manual202/hl7tests.html" >v20.2</option><option value="https://www.opendental.com/manual201/hl7tests.html" >v20.1</option><option value="https://www.opendental.com/manual194/hl7tests.html" >v19.4</option><option value="https://www.opendental.com/manual193/hl7tests.html" >v19.3</option><option value="https://www.opendental.com/manual192/hl7tests.html" >v19.2</option><option value="https://www.opendental.com/manual191/hl7tests.html" >v19.1</option><option value="https://www.opendental.com/manual184/hl7tests.html" >v18.4</option><option value="https://www.opendental.com/manual183/hl7tests.html" >v18.3</option><option value="https://www.opendental.com/manual182/hl7tests.html" >v18.2</option><option value="https://www.opendental.com/manual181/hl7tests.html" >v18.1</option><option value="https://www.opendental.com/manual174/hl7tests.html" >v17.4</option></select>
				</div>        <a href="manual.html"><div class="TopBarHome"><img src="resources/home.gif"/><p>Manual<p></div></a>        <a href="searchmanual.html"><div class="TopBarSearch"><img src="resources/search.gif"/><p>Search<p></div></a>
    </div>       
</div>
<div class="TopBar2"><p>HL7 Unit Tests</p></div>
<div class="GeneralPageContent">
<p>These Unit Tests are for <a href="hl7ecwmsg.html">eCW HL7 Message Structure</a>.</p>
<h2>Test 1: Process ADT Message</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||ADT^A04||P|2.3</p><p class="codeblock">EVN|A04|20120901100000||</p><p class="codeblock">PID|1|10||A10|Smiths^Jan^F||19760210|M||Hispanic|421 Main Ave^Apt 7^Salem^MA^97330||5305554045|5305554234||Single|||534997812|||Standard</p><p class="codeblock">GT1|1|11|Smiths^Jon^F||420 Main Ave^Apt7^Salem^MA^97330|5305554743|5303635432|19770730|F|||544071829</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldStandalone, EcwOldTight, HL7DefEcwFull, HL7DefEcwStandalone, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Fail to locate the patient by the PatNum in PID.2, so insert a new patient into the database.</li>
<li>Fail to locate the guarantor by the PatNum in GT1.2, so insert a new patient into the database.</li>
<li>Set patient.Guarantor=guarantor.PatNum and guarantor.Guarantor=guarantor.PatNum.</li>
<li>Set the patient's and guarantor's primary provider equal to the practice default provider.</li>
<li>Set the patient's and guarantor's billing type equal to the practice default billing type.</li>
<li>Other patient fields: LName,FName,MiddleI,Birthdate,Gender,Race,Address,Address2,City,State,Zip,HmPhone,WkPhone,Position,SSN,FeeSched.</li>
<li>Other guarantor fields: LName,FName,MiddleI,Birthdate,Gender,Address,Address2,City,State,Zip,HmPhone,WkPhone,SSN.</li>
</ul>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Set patient.PatNum=10, patient.ChartNumber="A10", guarantor.PatNum=11, guarantor.ChartNumber="".</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Set patient.ChartNumber="10", guarantor.ChartNumber="11". (PatNums will be next auto-incremented value.)</li>
</ul>
<h2>Test 2: Update Demographic Information</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||ADT^A04||P|2.3</p><p class="codeblock">EVN|A04|20120901100000||</p><p class="codeblock">PID|1|10||A11|Smith^Jane^N||19760205|Female||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||Standard</p><p class="codeblock">GT1|1|11|Smith^John^L||421 Main St^Apt 17^Dallas^OR^97338|5035554743|5033635432|19770704|Male|||111223333</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldStandalone, EcwOldTight, HL7DefEcwFull, HL7DefEcwStandalone, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Locate the patient inserted in Test 1 with PID.2 and the guarantor from Test 1 with GT1.2.</li>
</ul>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>PID.2 and GT1.2 are PatNum so locate by PatNum.</li>
<li>Update patient.ChartNumber to A11.</li>
<li>All other demographic information should be updated.</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>PID.2 and GT1.2 are ChartNumber so locate by ChartNumber.</li>
<li>patient.ChartNumber is not changed.</li>
<li>All other demographic information should be updated.</li>
</ul>
<h2>Test 3: Message With Missing First or Last Name</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||ADT^A04||P|2.3</p><p class="codeblock">EVN|A04|20120901100000||</p><p class="codeblock">PID|1|10||A10|Smith^^N||19760215|M||Asian|421 Main Ave^Apt 7^Salem^MA^97330||5305554045|5305554234||Single|||111224444|||Standard</p><p class="codeblock">GT1|1|11|^John^L||421 Main Ave^Apt 7^Salem^MA^97330|5305554743|5303635432|19770730|Female|||111223333</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldStandalone, EcwOldTight, HL7DefEcwFull, HL7DefEcwStandalone, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>No information gets be updated.</li>
<li>Compare test patient and guarantor before message to test patient and guarantor after message.</li>
</ul>
<h2>Test 4: Parse Date</h2>
<p>Message:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||ADT^A04||P|2.3</p><p class="codeblock">EVN|A04|20120901100000||</p><p class="codeblock">PID|1|20||A100|Smith^Jane^N||197602|Female||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||Standard</p><p class="codeblock">GT1|1|21|Smith^John^L||421 Main St^Apt 17^Dallas^OR^97338|5035554743|5033635432|197707030711|Male|||111223333</p><p>Results:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldStandalone, EcwOldTight:  </p>
<ul class="MarginBottomGap">
<li>Insert two new patients, patient from PID and guarantor from GT1.</li>
<li>patient.Birthdate=0001-01-01 because it is less than 8 digits.</li>
<li>guarantor.Birthdate=0001-01-01 because it is more than 8 digits.</li>
</ul>
<p class="MarginBottomZero">HL7DefEcwFull, HL7DefEcwStandalone, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Insert two new patients, patient from PID and guarantor from GT1.</li>
<li>patient.Birthdate=0001-01-01 because it's less than 8 digits.</li>
<li>guarantor.Birthdate=1977-07-03 7:11 AM but inserted as date 1977-07-03.</li>
</ul>
<h2>Test 5: Process SIU Message</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3</p><p class="codeblock">SCH|100|100|||||Checkup||||^^1200^20120901100000^20120901102000||||||||||||||</p><p class="codeblock">PID|1|30||A30|Smiths2^Jan2^L||19760210|Male||Hispanic|421 Main Ave^Apt 7^Salem^MA^97330||5305554045|5305554234||Single|||222334444|||Standard</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Fail to locate patient so insert new patient.</li>
<li>No PV1 or AIG segment.</li>
<li>New appointment so insert appointment into database with appointment.AptNum=100.</li>
<li>appointment.PatNum=30; appointment.AptStatus=ApptStatus.Scheduled; appointment.Note="Checkup"; appointment.AptDateTime="2012-09-01 10:00 AM"; appointment.Pattern="XXXX"; appointment.ProvNum=pat.PriProv=preference.PracticeDefaultProv.</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 6: Update Information</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3</p><p class="codeblock">SCH|100|100|||||Checkup and Fillings||||^^2400^20120902100000^20120902104000||||||||||||||</p><p class="codeblock">PID|1|30||A300|Smith2^Jane2^N||19760205|Female||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||222334444|||Standard</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Locate the patient with PatNum in PID.2 and appointment with AptNum in SCH.1 (inserted in Test 5).</li>
<li>Update the appointment and patient information.</li>
<li>appointment.Note="Checkup and Fillings"; appointment.AptDateTime="2012-09-02 10:00 AM"; appointment.Pattern="XXXXXXXX".</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 7: Mismatched appointment.PatNum and patient.PatNum</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3</p><p class="codeblock">SCH|100|100|||||Checkup and Fillings||||^^2400^20120903100000^20120903104000||||||||||||||</p><p class="codeblock">PID|1|30||A300|Smith2^Jane2^N||19760210|Male||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||222334444|||Standard</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Before processing this message, change appointment.PatNum from appointment updated in Test 6 to 40.</li>
<li>Locate the patient with PID.2 and appointment with SCH.1.</li>
<li>Compare appointment.PatNum (now 40) to patient.PatNum (30) and since they don't match anymore, do not update any information.</li>
<li>We will use appointment.AptDateTime to verify that nothing was changed in the appointment table.</li>
<li>Compare the patient before processing the message to the patient after processing to verify no changes were made.</li>
<li>After test return appointment.PatNum to 30 for Test 8.</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 8: Missing Patient's Last Name</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3 SCH|100|100|||||Checkup and Fillings and Crown||||^^2400^20120902100000^20120902104000||||||||||||||PID|1|30||A300|^Jane2^N||19760205|Male||White|421 Test St^Apt 17^Dallas^OR^97338||5035554041|5035554234||Married|||222334444|||Standard</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Locate the patient and appointment but since there is no LName, do not update any information.</li>
<li>We will use appointment.Note and patient information to verify that no information was changed.</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 9: Process AIG Segment</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3</p><p class="codeblock">SCH|100|100|||||Checkup and Fillings||||^^2400^20120902100000^20120902104000||||||||||||||</p><p class="codeblock">PID|1|30||A300|Smith2^Jane2^N||19760205|Female||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||222334444|||StandardAIG|1||DOC1^Albert, Brian S||||</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>An optional AIG segment is included, so use that segment to insert a new provider.</li>
<li>provider.Abbr=DOC1; provider.EcwID=DOC1; provider.LName=Albert; provider.FName=Brian; provider.MI=S; appointment.ProvNum=provider.ProvNum; patient.PriProv=provider.ProvNum</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 10: Process PV1 Segment</h2>
<p><b>Message</b>:</p>
<p class="codeblock">MSH|^~\&amp;|||||20120901100000||SIU^S12||P|2.3</p><p class="codeblock">SCH|100|100|||||Checkup and Fillings||||^^2400^20120902100000^20120902104000||||||||||||||</p><p class="codeblock">PID|1|30||A300|Smith2^Jane2^N||19760205|Male||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||222334444|||StandardPV1|1||||||DOC2^Lexington^Sarah^J||||||||||||</p><br/><p><b>Results</b>:</p>
<p class="MarginBottomZero">EcwOldFull, EcwOldTight, HL7DefEcwFull, HL7DefEcwTight:  </p>
<ul class="MarginBottomGap">
<li>Use the PV1 segment to insert a new provider and set the appropriate fields as in Test 9.</li>
</ul>
<p class="MarginBottomZero">EcwOldStandalone, HL7DefEcwStandalone:  </p>
<ul class="MarginBottomGap">
<li>Gets processed as a failed incoming message.</li>
</ul>
<h2>Test 11: Create DFT Message</h2>
<p class="MarginBottomZero"><b>Setup</b>:  </p>
<ul class="MarginBottomGap">
<li>Add 2 D0230 procedures, a D0150 procedure, and a D2332 procedure all with complete status and ProcDate='2012-09-06' to the patient with PatNum=10.</li>
<li>Set the 2332 procedurelog.ToothNum=26 and procedurelog.Surf=MID.</li>
<li>Make sure the procedurelog.ProcFee for D0230 is 20.00, the D0150 is 75.00, and the D2332 is 150.00.</li>
<li>Using DOC1 provider from Test 9, schedule an appointment for patient 10 with appointment.AptNum=500 and appointment.ProvNum=provider.ProvNum and attach the four procedures.</li>
<li>Create a DFT message for this patient, provider, appointment, and procedures.</li>
</ul>
<p><b>Results</b>:</p>
<p>EcwOldFull, EcwOldTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906075519||DFT^P03||P|2.3</p><p class="codeblock">EVN|P03|20120906075519|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert, Brian S^^||||||||||||500|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|75.00|||D0150|^</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|20.00|||D0230|^</p><p class="codeblock">FT1|3|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|20.00|||D0230|^</p><p class="codeblock">FT1|4|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|150.00|||D2332|26^MID</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>HL7DefEcwFull, HL7DefEcwTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906075519||DFT^P03||P|2.3</p><p class="codeblock">EVN|P03|20120906075519|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert^Brian^S||||||||||||500|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|75.00|||D0150|^</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|20.00|||D0230|^</p><p class="codeblock">FT1|3|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|20.00|||D0230|^</p><p class="codeblock">FT1|4|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|150.00|||D2332|26^MID</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>EcwOldStandalone, HL7DefEcwStandalone: DFT messages are not created in Standalone mode.</p>
<h2>Test 12: Create DFT Message With Multiple Providers</h2>
<p class="MarginBottomZero"><b>Setup</b>:  </p>
<ul class="MarginBottomGap">
<li>Change the provider for the D2332 procedure on the appointment with AptNum=500 to DOC2 from Test 10.</li>
<li>Create DFT message again for this patient, provider, appointment, and procedures and verify that the FT1 segment for that procedure lists the correct provider.</li>
</ul>
<p><b>Results</b>:</p>
<p>EcwOldFull, EcwOldTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906075519||DFT^P03||P|2.3</p><p class="codeblock">EVN|P03|20120906075519|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert, Brian S^^||||||||||||500|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|75.00|||D0150|^</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|20.00|||D0230|^</p><p class="codeblock">FT1|3|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|20.00|||D0230|^</p><p class="codeblock">FT1|4|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|150.00|||D2332|26^MID</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>HL7DefEcwFull, HL7DefEcwTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906075519||DFT^P03||P|2.3</p><p class="codeblock">EVN|P03|20120906075519|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert^Brian^S||||||||||||500|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|75.00|||D0150|^</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DO1^Albert^Brian^S|20.00|||D0230|^</p><p class="codeblock">FT1|3|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|20.00|||D0230|^</p><p class="codeblock">FT1|4|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|150.00|||D2332|26^MID</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>EcwOldStandalone, HL7DefEcwStandalone: DFT messages are not created in Standalone mode.</p>
<h2>Test 13: Truncate D Codes to Dxxxx</h2>
<p class="MarginBottomZero"><b>Setup</b>:  </p>
<ul class="MarginBottomGap">
<li>Insert a procedure D2332A, with treatment area surface and ProcFee=200.00.</li>
<li>Insert another procedure 2332AA with treatment area surface and ProcFee=250.00.</li>
<li>Add a D2332A on tooth 1 with surfaces MOD, and a 2332AA on tooth 2 with surfaces MOD to the patient's chart.</li>
<li>Schedule an appointment for the patient with AptNum=600, appointment.ProvNum=ProvNum for provider DOC1 and attach the two procedures.</li>
<li>Create a DFT message for these procedures, appointment, patient, and provider and verify that the D2332A gets truncated to D2332 and the 2332AA doesn't get changed.</li>
</ul>
<p><b>Results</b>:</p>
<p>EcwOldFull, EcwOldTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906093201||DFT^P03||P|2.3</p><p class="codeblock">EVN|P03|20120906093201|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert, Brian S^^||||||||||||600|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|200.00|||D2332|1^MOD</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert, Brian S^^|DOC1^Albert, Brian S^^|250.00|||2332AA|2^MOD</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>HL7DefEcwFull, HL7DefEcwTight:<p class="codeblock">MSH|^~\&amp;|OD||ECW||20120906093201||DFT^P03||P|2.3 EVN|P03|20120906093201|</p><p class="codeblock">PID|1|A11|10||Smith^Jane^N||19760205|F||White|421 Main St^Apt 17^Dallas^OR^97338||5035554045|5035554234||Married|||111224444|||</p><p class="codeblock">PV1|||||||DOC1^Albert^Brian^S||||||||||||600|||||||||||||||||||||||||||||||</p><p class="codeblock">FT1|1|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|200.00|||D2332|1^MOD</p><p class="codeblock">FT1|2|||20120906000000|20120906000000|CG||||1.0||||||||||DOC1^Albert^Brian^S|DOC1^Albert^Brian^S|250.00|||2332AA|2^MOD</p><p class="codeblock">ZX1|6|PDF|PATHOLOGY^Pathology Report^L|treatment|Test Message</p></p>
<p>EcwOldStandalone, HL7DefEcwStandalone: DFT messages are not created in Standalone mode.</p>
</div>
</div>
</body>
</html>