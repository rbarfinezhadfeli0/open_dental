<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

	<title>Open Dental Software - API PayPlans</title>
	<link href="resources/siteWithTree.css" rel="stylesheet" type="text/css">
	<link href="../css/common.css" rel="stylesheet" type="text/css">
	<script src = "resources/siteWithTreeToc.js"></script>
	<script src = "resources/siteWithTree.js"></script>
	<link rel="icon" type="image/png" href="resources/favicon.png">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body onload="BodyLoaded('apipayplans','apispecification','documentation')">
	<nav class="LeftTree">
		<div class="TopBarLeft"><p>Table of Contents</p></div>
		<div id="TocTree"><a href="https://www.opendental.com/site/help.html">Help</a></div>
	</nav>
	<div class="RightMain">
		<div class="TopBar">
			<a href="../index.html">
				<div class="Logo">
					<img src="resources/logoWhite160.png" alt="Home" width="158" height="40">
				</div>
			</a>
			<div class="TopBarLinks">
				<div class="TopBarTitle"></div>
				<a href="searchSite.html">
					<div class="TopBarSearch">
						<img src="resources/search.gif"/>
						<p>Search<p>
					</div>
				</a>
			</div>
		</div>
		<div class="TopBar2"><p>API PayPlans</p></div>
		<div class="GeneralPageContent">
<p>See <a href="apispecification.html">API Specification</a></p>
<p>Prior to 23.3.1, Open Dental users had the ability to create both Patient Payment Plans and Dynamic Payment Plans. The API supported these with PayPlans POST (create) and PayPlans POST Dynamic, respectively. In version 23.3.1, Open Dental deprecated Patient Payment Plans, renaming them to Old Payment Plans in the UI. The PayPlans POST (create) method was also deprecated at that time. Dynamic Payment Plans are now referred to simply as Payment Plans in Open Dental, and can still be created with the PayPlans POST Dynamic method.</p>
<p>Anyone using the API should also become very familiar with our schema documentation which contains important details about individual database table columns.<br> See <a href="SchemaRedirect%EF%B9%96payplan.html" target="_blank">PayPlan Database Schema.</a></p>
<h2>PayPlans GET (single)</h2>
<p>Version Added: 24.4.30</p>
<p>Gets a single payplan.</p>
<p><b>PayPlanNum:</b> Required in the URL.<br></p>
<p><b>Example Request:</b><br> GET /payplans/48<br></p>
<p><b>Example Response:</b><br></p>
<p><span class="codeblock">{<br> "PayPlanNum": 48,<br> "PatNum": 64,<br> "Guarantor": 64,<br> "PayPlanDate": "2025-02-26",<br> "APR": 0.0,<br> "Note": "02/26/2025 - Date of Agreement: 02/26/2025, Total Amount: 40.00, APR: 0, Total Cost of Loan: 40.00",<br> "PlanNum": 0,<br> "CompletedAmt": 0.0,<br> "InsSubNum": 0,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 0,<br> "PayAmt": 40.0,<br> "DownPayment": 0,<br> "IsClosed": "false",<br> "PlanCategory": 0,<br> "planCategory": "",<br> "IsDynamic": "true",<br> "ChargeFrequency": "Monthly",<br> "DatePayPlanStart": "2025-03-26",<br> "IsLocked": "false",<br> "DateInterestStart": "0001-01-01",<br> "DynamicPayPlanTPOption": "AwaitComplete",<br> "principalAmount": 40.0,<br> "SheetDefNum": 0<br> }<br></span></p>
<p>200 OK<br> 400 BadRequest (with explanation)<br> 404 NotFound (with explanation)<br></p>
<h2>PayPlans GET (multiple)</h2>
<p>Version Added: 22.2.16</p>
<p>Gets a list of payment plans (Patient, Insurance, and Dynamic) that are assigned to the patient. An Insurance payment plan has a PlanNum and InsSubNum value greater then zero, a Dynamic payment plan has IsDynamic as true, otherwise it is a Patient payment plan. DatePayPlanStart and CompletedAmt are only used for Dynamic payment plans.</p>
<p><b>PatNum:</b> This or <b>Guarantor</b> is required in the URL.<br><b>Guarantor: </b>This or <b>PatNum</b> is required in the URL.<br></p>
<p><b>Example Requests:</b><br> GET /payplans?PatNum=72<br> GET /payplans?Guarantor=72<br></p>
<p><b>Example Response:</b><br></p>
<p><span class="codeblock"> [<br> {<br> "PayPlanNum": 150,<br> "PatNum": 72,<br> "Guarantor": 72,<br> "PayPlanDate": "2020-04-15",<br> "APR": 0.0,<br> "Note": "04/15/2020 - Date of Agreement: 04/15/2020, Total Amount: 64.00, APR: 0, Total Cost of Loan: 64.00",<br> "PlanNum": 0,<br> "CompletedAmt": 0.0,<br> "InsSubNum": 0,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 10,<br> "PayAmt": 0.0,<br> "DownPayment": 0.0,<br> "IsClosed": "true",<br> "PlanCategory": 0,<br> "planCategory": "",<br> "IsDynamic": "false",<br> "ChargeFrequency": "Weekly",<br> "DatePayPlanStart": "2001-01-01",<br> "IsLocked": "false",<br> "DateInterestStart": "2001-01-01",<br> "DynamicPayPlanTPOption": "None",<br> "principalAmount": 64.0,<br> "SheetDefNum": 0<br> },<br> {<br> "PayPlanNum": 167,<br> "PatNum": 72,<br> "Guarantor": 72,<br> "PayPlanDate": "2021-01-23",<br> "APR": 10.0,<br> "Note": "01/23/2021 - Date of Agreement: 01/23/2021, Total Amount: 1000.00, APR: 10, Total Cost of Loan: 1029.44",<br> "PlanNum": 3,<br> "CompletedAmt": 0.0,<br> "InsSubNum": 13,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 10,<br> "PayAmt": 0.0,<br> "DownPayment": 0.0,<br> "IsClosed": "true",<br> "PlanCategory": 447,<br> "planCategory": "Implant",<br> "IsDynamic": "false",<br> "ChargeFrequency": "Weekly",<br> "DatePayPlanStart": "2001-01-01",<br> "IsLocked": "false",<br> "DateInterestStart": "2021-02-23",<br> "DynamicPayPlanTPOption": "None",<br> "principalAmount": 1000.0,<br> "SheetDefNum": 0<br> },<br> {<br> "PayPlanNum": 169,<br> "PatNum": 72,<br> "Guarantor": 72,<br> "PayPlanDate": "2022-06-24",<br> "APR": 0.0,<br> "Note": "06/24/2022 - Date of Agreement: 06/24/2022, Total Amount: 643.00, APR: 0, Total Cost of Loan: 643.00",<br> "PlanNum": 0,<br> "CompletedAmt": 643.0,<br> "InsSubNum": 0,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 0,<br> "PayAmt": 128.6,<br> "DownPayment": 0.0,<br> "IsClosed": "false",<br> "PlanCategory": 446,<br> "planCategory": "Ortho",<br> "IsDynamic": "true",<br> "ChargeFrequency": "Monthly",<br> "DatePayPlanStart": "2022-07-24",<br> "IsLocked": "false",<br> "DateInterestStart": "2001-01-01",<br> "DynamicPayPlanTPOption": "AwaitComplete",<br> "principalAmount": 643.0,<br> "SheetDefNum": 0<br> }<br> ]<br></span></p>
<p>200 OK<br> 404 NotFound (Patient or Guarantor not found)<br></p>
<h2>PayPlans POST Dynamic</h2>
<p>Version Added: 22.2.22</p>
<p>Creates a payment plan for the patient with the specified terms. This is a dynamic payment plan, not an insurance or patient payment plan. Procedures and/or adjustments must be associated with the plan. </p>
<p><b>PatNum:</b> Required.<br><b>PayAmt: </b>This or <b>NumberOfPayments</b> is required. The amount due per payment plan charge.<br><b>NumberOfPayments:</b> This or <b>PayAmt</b> is required. The total number of payments in the payment plan.<br><b>procNums:</b> This and/or <b>adjNums</b> is required. An array of ProcNums, in [1,2,3] format.<br><b>adjNums:</b> This and/or <b>procNums</b> is required. An Array of AdjNums, in [1,2,3] format.<br><br><b>Guarantor: </b>Optional. The person responsible for payments. Default this plan's patient.<br><b>PayPlanDate:</b> Optional. The date of the plan agreement. Default today.<br><b>APR:</b> Optional. Default 0. <br><b>DownPayment:</b> Optional. Default 0.00.<br><b>Note:</b> Optional. The terms of the payment plan are stored in this field by default. Additional note text is appended to these terms.<br><b>PlanCategory:</b> (Added in Version 25.3.31) FK to definition.DefNum where definition.Category=47. Default 0, which indicates None.<br><b>ChargeFrequency: </b>Optional. Either "Weekly", "EveryOtherWeek", "Monthly", "Quarterly", or "OrdinalWeekday" (ie, second Tueday of each month, based on the DatePayPlanStart). Default "Monthly".<br><b>DatePayPlanStart:</b> Optional. Due date of first payment. Default one month after the PayPlanDate.<br><b>DateInterestStart:</b> Optional. Date the payment plan can start posting interest charges. Default minval.<br><b>IsLocked:</b> Optional. Default to "true". Required to be true If APR is above 0.<br><b>DynamicPayPlanTPOption:</b> Either "AwaitComplete" or "TreatAsComplete". Default "AwaitComplete". <br></p>
<p><b>Example Request:</b><br> POST /payplans/Dynamic<br></p>
<p><span class="codeblock"> {<br> "PatNum" : 72,<br> "Guarantor": 72,<br> "PayPlanDate": "2022-06-30",<br> "NumberOfPayments": 8,<br> "APR": 10,<br> "DownPayment": 100,<br> "Note": "DownPayment in Cash",<br> "PlanCategory": 446,<br> "ChargeFrequency":"Monthly",<br> "DatePayPlanStart": "2022-07-01",<br> "DateInterestStart": "2022-08-01",<br> "IsLocked": "true",<br> "DynamicPayPlanTPOption": "AwaitComplete",<br> "procNums": [848,847,860,865],<br> "adjNums": [40]<br> }<br></span></p>
<p><b>Example Response:</b><br></p>
<p><span class="codeblock"> {<br> "PayPlanNum": 271,<br> "PatNum": 72,<br> "Guarantor": 72,<br> "PayPlanDate": "2022-06-30",<br> "APR": 10.0,<br> "Note": "06/30/2022 - Date of Agreement: 06/30/2022, Total Amount: 728.00, APR: 10, Total Cost of Loan: 741.71, DownPayment in Cash",<br> "PlanNum": 0,<br> "CompletedAmt": 652.0,<br> "InsSubNum": 0,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 0,<br> "PayAmt": 81.48,<br> "DownPayment": 100.0,<br> "IsClosed": "false",<br> "PlanCategory": 446,<br> "planCategory": "Ortho",<br> "IsDynamic": "true",<br> "ChargeFrequency": "Monthly",<br> "DatePayPlanStart": "2022-07-01",<br> "IsLocked": "true",<br> "DateInterestStart": "2022-08-01",<br> "DynamicPayPlanTPOption": "AwaitComplete",<br> "principalAmount": 728.0,<br> "SheetDefNum": 0<br> }<br></span></p>
<p>201 Created<br> 400 BadRequest (with explanation)<br> 404 NotFound (with explanation)<br></p>
<h2>PayPlans POST (create)</h2>
<p>Version Added: 22.4.39</p>
<p><span style="color:red">This method is deprecated in version 23.3.1. Use PayPlans POST Dynamic instead.</span></p>
<p>Creates a payment plan for the patient with the specified terms. This is a patient payment plan, not an insurance or dynamic payment plan. Procedures and adjustments are not associated with the plan. The terms of the payment plan are stored in the PayPlan.Note field and returned in the response. Uses the patient's information to set the provider and clinic (if enabled) associated with the payment plan. </p>
<p><b>PatNum:</b> Required.<br><b>useEstBalance: </b>(Added in version 22.2) This or <b>principalAmount</b> is required. Setting this to "true" will use the Patient's Estimated Balance for the principal amount. <br><b>principalAmount: </b>This or <b>useEstBalance</b> is required. The principal amount for the plan. <br><b>PayAmt: </b>This or <b>NumberOfPayments</b> is required. The amount due per payment plan charge.<br><b>NumberOfPayments:</b> This or <b>PayAmt</b> is required. The total number of payments in the payment plan.<br><br><b>Guarantor: </b>Optional. The person responsible for payments. Default this plan's patient.<br><b>PayPlanDate:</b> Optional. The date of the plan agreement. Default today.<br><b>APR:</b> Optional. Default 0. <br><b>DownPayment:</b> Optional. Default 0.00.<br><b>Note:</b> Optional. The terms of the payment plan are stored in this field by default. Additional note text is appended to these terms.<br><b>ChargeFrequency: </b>Optional. Either "Weekly", "EveryOtherWeek", "Monthly", "Quarterly", or "OrdinalWeekday" (ie, second Tueday of each month, based on the DatePayPlanStart). Default "Monthly".<br><b>DatePayPlanStart:</b> Optional. Due date of first payment. Default one month after the PayPlanDate.<br><b>DateInterestStart:</b> Optional. Date the payment plan can start posting interest charges. Default minval.<br></p>
<p><b>Example Requests:</b><br> POST /payplans<br></p>
<p><span class="codeblock"> {<br>  "PatNum" : 61,<br>  "useEstBalance": "true",<br>  "PayAmt": 100<br> }<br></span></p>
<p>or</p>
<p><span class="codeblock"> {<br>  "PatNum" : 61,<br>  "principalAmount": 500,<br>  "PayAmt": 100<br> }<br></span></p>
<p>or</p>
<p><span class="codeblock"> {<br>  "PatNum" : 19,<br>  "principalAmount": 256.12,<br>  "NumberOfPayments": 12,<br>  "APR": 5<br> }<br></span></p>
<p>or</p>
<p><span class="codeblock"> {<br>  "PatNum" : 11,<br>  "Guarantor": 21,<br>  "PayPlanDate": "2021-09-06",<br>  "principalAmount": 500,<br>  "PayAmt": 75.50,<br>  "APR": 18,<br>  "DownPayment": 125,<br>  "ChargeFrequency": "OrdinalWeekday",<br>  "Note": "No payments until 12/06/2021. No interest until 01/03/2022. Payments due first Monday of each month.",<br>  "DatePayPlanStart": "2021-12-06",<br>  "DateInterestStart": "2022-01-03" <br> }<br></span></p>
<p><b>Example Responses:</b><br></p>
<p><span class="codeblock"> "9/20/2021 - Date of Agreement: 9/20/2021, Total Amount: 612.98, APR: 0, Total Cost of Loan: 612.98 "<br></span></p>
<p>or</p>
<p><span class="codeblock"> "9/20/2021 - Date of Agreement: 9/20/2021, Total Amount: 500.00, APR: 0, Total Cost of Loan: 500.00 "<br></span></p>
<p>or</p>
<p><span class="codeblock"> "9/20/2021 - Date of Agreement: 9/20/2021, Total Amount: 256.12, APR: 5, Total Cost of Loan: 263.11 "<br></span></p>
<p>or</p>
<p><span class="codeblock"> "9/20/2021 - Date of Agreement: 9/6/2021, Total Amount: 500.00, APR: 18, Total Cost of Loan: 511.66 No payments until 12/06/2021. No interest until 01/03/2022. Payments due first Monday of each month."<br></span></p>
<p> 201 Created<br> 400 BadRequest (Missing or invalid fields)<br> 404 NotFound (Patient not found)<br> 410 Gone (Deprecated)<br></p>
<h2>PayPlans PUT Close</h2>
<p>Version Added: 22.4.39</p>
<p>Closes a single patient or dynamic payment plan, not an insurance payment plan. Any outstanding interest will be charged to the patient's account and make them due immediately. See <a href="../autoLogin.aspx%EF%B9%96ReturnUrl=%EA%A4%B7help253%EA%A4%B7paymentplanclose.html">Close Payment Plans</a>. </p>
<p><b>PayPlanNum:</b> Required in the URL.</p>
<p><b>Example Requests:</b><br> PUT /payplans/343/Close<br></p>
<p><b>Example Responses:</b><br><span class="codeblock"> {<br>  "PayPlanNum" : 343,<br>  "PatNum" : 11,<br>  "Guarantor": 21,<br>  "PayPlanDate": "2021-09-06",<br>  "APR": 18.0,<br>  "Note": "No payments until 12/06/2021. No interest until 01/03/2022. Payments due first Monday of each month.",<br> "PlanNum": 34,<br> "CompletedAmt": 700.0,<br> "InsSubNum": 86546,<br> "PaySchedule": 1,<br> "NumberOfPayments": 7,<br>  "PayAmt": 75.50,<br>  "DownPayment": 125.0,<br> "IsClosed": true, <br>  "PlanCategory": 371,<br> "planCategory": "General",<br> "IsDynamic": false, <br>  "ChargeFrequency": "OrdinalWeekday",<br> "DatePayPlanStart" :"2022-10-03",<br> "IsLocked": true,<br> "DateInterestStart": "2022-11-03",<br> "DynamicPayPlanTPOption": 0,<br> "principalAmount": 500.0,<br> "SheetDefNum": 0<br> }<br></span></p>
<p> 200 OK<br> 400 BadRequest (Missing or invalid fields)<br> 404 NotFound (PayPlan not found)<br></p>
<h2>PayPlans PUT Dynamic</h2>
<p>Version Added: 25.3.31</p>
<p>Updates a dynamic payment plan. </p>
<p><b>PayPlanNum:</b> Required in URL.<br></p>
<p><b>PayAmt:</b> The amount due per payment plan charge. Cannot be supplied alongside <b>NumberOfPayments</b>.<br><b>NumberOfPayments:</b> The total number of payments in the payment plan. Rather than saving the value to the NumberOfPayments column, this determines the value of <b>PayAmt</b>. Cannot be supplied alongside <b>PayAmt</b>.<br><b>Guarantor: </b>The person responsible for payments. Cannot be changed if this plan has existing charges or attached payments.<br><b>PayPlanDate:</b> The date of the plan agreement. Cannot be a future date if the FutureTransDatesAllowed preference is disabled.<br><b>APR:</b> Requires IsLocked to be supplied as "true" alongside it if the PayPlanRequireLockForAPR preference is enabled. <br><b>Note:</b> Overwrites existing note.<br><b>PlanCategory:</b> FK to definition.DefNum where definition.Category=47. 0 indicates None.<br><b>ChargeFrequency: </b>Either "Weekly", "EveryOtherWeek", "Monthly", "Quarterly", or "OrdinalWeekday" (i.e., second Tueday of each month, based on the DatePayPlanStart).<br><b>DatePayPlanStart:</b> Due date of first payment. Cannot be changed if this plan has existing charges.<br><b>DateInterestStart:</b> Date the payment plan can start posting interest charges. Only allowed if this plan has an APR above 0.<br><b>IsLocked:</b> Either "true" or "false". Required to be "true" if <b>APR</b> is above 0, and the PayPlanRequireLockForAPR preference is enabled.<br><b>SheetDefNum:</b> FK to sheetdef.SheetDefNum where sheetdef.SheetType=19. Only allowed if the PayPlansUseSheets preference is enabled.<br></p>
<p><b>Example Request:</b><br> PUT /payplans/364/Dynamic<br></p>
<p><span class="codeblock"> {<br> "Guarantor": 29,<br> "PayPlanDate": "2025-10-29",<br> "NumberOfPayments": 6,<br> "APR": 10,<br> "Note": "Interest start after one month",<br> "PlanCategory": 446,<br> "ChargeFrequency": "Weekly",<br> "DatePayPlanStart": "2024-10-30",<br> "DateInterestStart": "2024-11-30",<br> "IsLocked": "true",<br> "SheetDefNum": 236 <br> }<br></span></p>
<p><b>Example Response:</b><br></p>
<p><span class="codeblock"> {<br> "PayPlanNum": 364,<br> "PatNum": 27,<br> "Guarantor": 29,<br> "PayPlanDate": "2025-10-29",<br> "APR": 10.0,<br> "Note": "Interest start after one month",<br> "PlanNum": 0,<br> "CompletedAmt": 67.0,<br> "InsSubNum": 0,<br> "PaySchedule": "Monthly",<br> "NumberOfPayments": 0,<br> "PayAmt": 11.25,<br> "DownPayment": 0.0,<br> "IsClosed": "false",<br> "PlanCategory": 446,<br> "planCategory": "Ortho",<br> "IsDynamic": "true",<br> "ChargeFrequency": "Weekly",<br> "DatePayPlanStart": "2024-10-30",<br> "IsLocked": "true",<br> "DateInterestStart": "2024-11-30",<br> "DynamicPayPlanTPOption": "AwaitComplete",<br> "principalAmount": 67.0,<br> "SheetDefNum": 236<br> }<br></span></p>
<p>200 OK<br> 400 BadRequest (with explanation)<br> 404 NotFound (with explanation)<br></p>
		</div>
	</div>
</body>
</html>