/*Jordan 2025-08-12 
This js handles click interactions with the nav bar and hamburger menu
This js is used for all site files that do not have TOC tree.
The old style was a very old ugly DreamWeaver template.
Most of these files are autogenerated, but we can also have 3 html files that are not because of complexity:
order, trial, and contact
We might also point to this js from certain html files that we choose to leave outside site.
Files that use this js do not point to any other secondary js. 
Do not make changes to this file without consulting me.
*/
document.addEventListener("DOMContentLoaded", function(){
    const hamburgerMenu = document.getElementById("HamburgerMenu");
    const navMenu = document.querySelector("nav ul");
	/*Get the meta tag that we added to change nav button color if this is one of the pages that is in the nav.*/
	/*Tag would look like this, but we decided to remove it, so this nav a.active class doesn't currently do anything:*/
	/*<meta name="current-page" content="Order">*/
	//const currentPage = document.querySelector('meta[name="current-page"]').getAttribute("content"); //Finds current page through meta tag
	const navLinks = document.querySelectorAll("nav ul li a");
	/*
	This used to highlight the current page using the above meta tag to find it.
	navLinks.forEach(link => {
		if(link.textContent.trim()===currentPage) {
			link.classList.add("active");
		}
	});
	*/
    // Toggle menu visibility when the hamburger is clicked
    hamburgerMenu.addEventListener("click", function(){
		event.stopPropagation(); /*Stops the nav-close click function from executing if the click is in hamburgerMenu*/
		
        if(navMenu.style.display === "block") {
            navMenu.style.display = "none";
        } 
		else {
            navMenu.style.display = "block";
        }
    });
	
	// Closes nav if click happens outside of the menu.
	document.addEventListener("click", function(){
		if(window.innerWidth < 768){
			if(!navMenu.contains(event.target)){
				navMenu.style.display = "none";
			}
		}
	})
    // Reset menu visibility on window resize
    window.addEventListener("resize", function(){
        if(window.innerWidth > 680){
            navMenu.style.display = ""; // Reset to default (CSS-controlled)
        }
    });
});